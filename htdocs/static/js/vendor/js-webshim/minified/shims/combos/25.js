jQuery.webshims.register("dom-extend",function(d,g,j,n,l){var w=g.modules,s=/\s*,\s*/,q={},t={},o={},x={},r={},p=d.fn.val,i=function(a,c,b,e,k){return k?p.call(d(a)):p.call(d(a),b)};d.fn.val=function(a){var c=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!c||1!==c.nodeType?p.call(this):d.prop(c,"value",a,"val",!0);if(d.isArray(a))return p.apply(this,arguments);var b=d.isFunction(a);return this.each(function(e){c=this;1===c.nodeType&&(b?(e=a.call(c,e,d.prop(c,"value",l,"val",
!0)),null==e&&(e=""),d.prop(c,"value",e,"val")):d.prop(c,"value",a,"val"))})};var y="_webshimsLib"+Math.round(1E3*Math.random()),v=function(a,c,b){a=a.jquery?a[0]:a;if(!a)return b||{};var e=d.data(a,y);b!==l&&(e||(e=d.data(a,y,{})),c&&(e[c]=b));return c?e&&e[c]:e};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){d.fn[a.name]=function(){return this.map(function(){var c=v(this,
"shadowData");return c&&c[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(a){q[a]=d[a];d[a]=function(c,b,e,k,f){var h="val"==k,u=!h?q[a]:i;if(!c||!t[b]||1!==c.nodeType||!h&&k&&"attr"==a&&d.attrFn[b])return u(c,b,e,k,f);var z=(c.nodeName||"").toLowerCase(),A=o[z],g="attr"==a&&(!1===e||null===e)?"removeAttr":a,p,m,j;A||(A=o["*"]);A&&(A=A[b]);A&&(p=A[g]);if(p){if("value"==b)m=p.isVal,p.isVal=h;if("removeAttr"===g)return p.value.call(c);if(e===l)return p.get?p.get.call(c):p.value;p.set&&
("attr"==a&&!0===e&&(e=b),j=p.set.call(c,e));if("value"==b)p.isVal=m}else j=u(c,b,e,k,f);if((e!==l||"removeAttr"===g)&&r[z]&&r[z][b]){var n;n="removeAttr"==g?!1:"prop"==g?!!e:!0;r[z][b].forEach(function(b){if(!b.only||(b.only="prop"==a)||"attr"==b.only&&"prop"!=a)b.call(c,e,n,h?"val":g,a)})}return j};x[a]=function(c,b,e){o[c]||(o[c]={});o[c][b]||(o[c][b]={});var k=o[c][b][a],f=function(c,k,z){return k&&k[c]?k[c]:z&&z[c]?z[c]:"prop"==a&&"value"==b?function(c){return e.isVal?i(this,b,c,!1,0===arguments.length):
q[a](this,b,c)}:"prop"==a&&"value"==c&&e.value.apply?function(c){var e=q[a](this,b);e&&e.apply&&(e=e.apply(this,arguments));return e}:function(c){return q[a](this,b,c)}};o[c][b][a]=e;if(e.value===l){if(!e.set)e.set=e.writeable?f("set",e,k):g.cfg.useStrict&&"prop"==b?function(){throw b+" is readonly on "+c;}:d.noop;if(!e.get)e.get=f("get",e,k)}["value","get","set"].forEach(function(b){e[b]&&(e["_sup"+b]=f(b,k))})}});var B=!d.browser.msie||8<parseInt(d.browser.version,10),m=function(){var a=g.getPrototypeOf(n.createElement("foobar")),
c=Object.prototype.hasOwnProperty;return function(b,e,k){var d=n.createElement(b),f=g.getPrototypeOf(d);if(B&&f&&a!==f&&(!d[e]||!c.call(d,e))){var u=d[e];k._supvalue=function(){return u&&u.apply?u.apply(this,arguments):u};f[e]=k.value}else k._supvalue=function(){var b=v(this,"propValue");return b&&b[e]&&b[e].apply?b[e].apply(this,arguments):b&&b[e]},h.extendValue(b,e,k.value);k.value._supvalue=k._supvalue}}(),h=function(){var a={};g.addReady(function(b,c){var e={},f=function(a){e[a]||(e[a]=d(b.getElementsByTagName(a)),
c[0]&&d.nodeName(c[0],a)&&(e[a]=e[a].add(c)))};d.each(a,function(b,a){f(b);!a||!a.forEach?g.warn("Error: with "+b+"-property. methods: "+a):a.forEach(function(a){e[b].each(a)})});e=null});var c,b=d([]),e=function(b,e){a[b]?a[b].push(e):a[b]=[e];d.isDOMReady&&(c||d(n.getElementsByTagName(b))).each(e)};return{createTmpCache:function(a){d.isDOMReady&&(c=c||d(n.getElementsByTagName(a)));return c||b},flushTmpCache:function(){c=null},content:function(b,a){e(b,function(){var b=d.attr(this,a);null!=b&&d.attr(this,
a,b)})},createElement:function(b,a){e(b,a)},extendValue:function(b,a,c){e(b,function(){d(this).each(function(){v(this,"propValue",{})[a]=this[a];this[a]=c})})}}}(),f=function(a,c){if(a.defaultValue===l)a.defaultValue="";if(!a.removeAttr)a.removeAttr={value:function(){a[c||"prop"].set.call(this,a.defaultValue);a.removeAttr._supvalue.call(this)}};if(!a.attr)a.attr={}};d.extend(g,{getID:function(){var a=(new Date).getTime();return function(c){var c=d(c),b=c.attr("id");b||(a++,b="ID-"+a,c.attr("id",b));
return b}}(),extendUNDEFProp:function(a,c){d.each(c,function(b,c){b in a||(a[b]=c)})},createPropDefault:f,data:v,moveToFirstEvent:function(){var a=d._data?"_data":"data";return function(c,b,e){if((c=(d[a](c,"events")||{})[b])&&1<c.length)b=c.pop(),e||(e="bind"),"bind"==e&&c.delegateCount?c.splice(c.delegateCount,0,b):c.unshift(b)}}(),addShadowDom:function(){var a,c,b,e={init:!1,runs:0,test:function(){var b=e.getHeight(),a=e.getWidth();b!=e.height||a!=e.width?(e.height=b,e.width=a,e.handler({type:"docresize"}),
e.runs++,30>e.runs&&setTimeout(e.test,30)):e.runs=0},handler:function(f){clearTimeout(a);a=setTimeout(function(){if("resize"==f.type){var a=d(j).width(),h=d(j).width();if(h==c&&a==b)return;c=h;b=a;e.height=e.getHeight();e.width=e.getWidth()}d.event.trigger("updateshadowdom")},"resize"==f.type?50:9)},_create:function(){d.each({Height:"getHeight",Width:"getWidth"},function(b,a){var c=n.body,d=n.documentElement;e[a]=function(){return Math.max(c["scroll"+b],d["scroll"+b],c["offset"+b],d["offset"+b],d["client"+
b])}})},start:function(){if(!this.init&&n.body)this.init=!0,this._create(),this.height=e.getHeight(),this.width=e.getWidth(),setInterval(this.test,400),d(this.test),d(j).bind("load",this.test),d(j).bind("resize",this.handler),function(){var b=d.fn.animate,a;d.fn.animate=function(){clearTimeout(a);a=setTimeout(function(){e.test();e.handler({type:"animationstart"})},19);return b.apply(this,arguments)}}()}};d.event.customEvent.updateshadowdom=!0;g.docObserve=function(){g.ready("DOM",function(){e.start()})};
return function(b,a,c){c=c||{};b.jquery&&(b=b[0]);a.jquery&&(a=a[0]);var e=d.data(b,y)||d.data(b,y,{}),f=d.data(a,y)||d.data(a,y,{}),h={};if(c.shadowFocusElement){if(c.shadowFocusElement){if(c.shadowFocusElement.jquery)c.shadowFocusElement=c.shadowFocusElement[0];h=d.data(c.shadowFocusElement,y)||d.data(c.shadowFocusElement,y,h)}}else c.shadowFocusElement=a;e.hasShadow=a;h.nativeElement=f.nativeElement=b;h.shadowData=f.shadowData=e.shadowData={nativeElement:b,shadowElement:a,shadowFocusElement:c.shadowFocusElement};
c.shadowChilds&&c.shadowChilds.each(function(){v(this,"shadowData",f.shadowData)});if(c.data)h.shadowData.data=f.shadowData.data=e.shadowData.data=c.data;c=null;g.docObserve()}}(),propTypes:{standard:function(a){f(a);if(!a.prop)a.prop={set:function(c){a.attr.set.call(this,""+c)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){f(a);if(!a.prop)a.prop={set:function(c){c?a.attr.set.call(this,""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}},
src:function(){var a=n.createElement("a");a.style.display="none";return function(c,b){f(c);if(!c.prop)c.prop={set:function(b){c.attr.set.call(this,b)},get:function(){var c=this.getAttribute(b),f;if(null==c)return"";a.setAttribute("href",c+"");if(!d.support.hrefNormalized){try{d(a).insertAfter(this),f=a.getAttribute("href",4)}catch(h){f=a.getAttribute("href",4)}d(a).detach()}return f||a.href}}}}(),enumarated:function(a){f(a);if(!a.prop)a.prop={set:function(c){a.attr.set.call(this,c)},get:function(){var c=
(a.attr.get.call(this)||"").toLowerCase();if(!c||-1==a.limitedTo.indexOf(c))c=a.defaultValue;return c}}}},reflectProperties:function(a,c){"string"==typeof c&&(c=c.split(s));c.forEach(function(b){g.defineNodeNamesProperty(a,b,{prop:{set:function(a){d.attr(this,b,a)},get:function(){return d.attr(this,b)||""}}})})},defineNodeNameProperty:function(a,c,b){t[c]=!0;if(b.reflect)g.propTypes[b.propType||"standard"](b,c);["prop","attr","removeAttr"].forEach(function(e){var f=b[e];f&&(f="prop"===e?d.extend({writeable:!0},
f):d.extend({},f,{writeable:!0}),x[e](a,c,f),"*"!=a&&g.cfg.extendNative&&"prop"==e&&f.value&&d.isFunction(f.value)&&m(a,c,f),b[e]=f)});b.initAttr&&h.content(a,c);return b},defineNodeNameProperties:function(a,c,b,e){for(var f in c)!e&&c[f].initAttr&&h.createTmpCache(a),b&&!c[f][b]&&(c[f][b]={},["value","set","get"].forEach(function(a){a in c[f]&&(c[f][b][a]=c[f][a],delete c[f][a])})),c[f]=g.defineNodeNameProperty(a,f,c[f]);e||h.flushTmpCache();return c},createElement:function(a,c,b){var e;d.isFunction(c)&&
(c={after:c});h.createTmpCache(a);c.before&&h.createElement(a,c.before);b&&(e=g.defineNodeNameProperties(a,b,!1,!0));c.after&&h.createElement(a,c.after);h.flushTmpCache();return e},onNodeNamesPropertyModify:function(a,c,b,e){"string"==typeof a&&(a=a.split(s));d.isFunction(b)&&(b={set:b});a.forEach(function(a){r[a]||(r[a]={});"string"==typeof c&&(c=c.split(s));b.initAttr&&h.createTmpCache(a);c.forEach(function(c){r[a][c]||(r[a][c]=[],t[c]=!0);if(b.set){if(e)b.set.only=e;r[a][c].push(b.set)}b.initAttr&&
h.content(a,c)});h.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,c,b){b||(b={});if(d.isFunction(b))b.set=b;g.defineNodeNamesProperty(a,c,{attr:{set:function(a){this.setAttribute(c,a);b.set&&b.set.call(this,!0)},get:function(){return null==this.getAttribute(c)?l:c}},removeAttr:{value:function(){this.removeAttribute(c);b.set&&b.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:b.initAttr||!1})},contentAttr:function(a,c,b){if(a.nodeName){if(b===l)return a=a.attributes[c]||{},
b=a.specified?a.value:null,null==b?l:b;"boolean"==typeof b?b?a.setAttribute(c,c):a.removeAttribute(c):a.setAttribute(c,b)}},activeLang:function(){var a=[],c={},b,e,f=/:\/\/|^\.*\//,h=function(a,b,c){return b&&c&&-1!==d.inArray(b,c.availabeLangs||[])?(a.loading=!0,c=c.langSrc,f.test(c)||(c=g.cfg.basePath+c),g.loader.loadScript(c+b+".js",function(){a.langObj[b]?(a.loading=!1,u(a,!0)):d(function(){a.langObj[b]&&u(a,!0);a.loading=!1})}),!0):!1},p=function(a){c[a]&&c[a].forEach(function(a){a.callback()})},
u=function(a,c){if(a.activeLang!=b&&a.activeLang!==e){var f=w[a.module].options;if(a.langObj[b]||e&&a.langObj[e])a.activeLang=b,a.callback(a.langObj[b]||a.langObj[e],b),p(a.module);else if(!c&&!h(a,b,f)&&!h(a,e,f)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],b),p(a.module)}};return function(f){if("string"==typeof f&&f!==b)b=f,e=b.split("-")[0],b==e&&(e=!1),d.each(a,function(a,b){u(b)});else if("object"==typeof f)if(f.register)c[f.register]||(c[f.register]=[]),c[f.register].push(f),
f.callback();else{if(!f.activeLang)f.activeLang="";a.push(f);u(f)}return b}}()});d.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,c){g[a]=function(a,e,f,d){"string"==typeof a&&(a=a.split(s));var h={};a.forEach(function(a){h[a]=g[c](a,e,f,d)});return h}});g.isReady("webshimLocalization",!0)});
(function(d,g){var j=d.webshims.browserVersion;if(!(d.browser.mozilla&&5<j)&&(!d.browser.msie||12>j&&7<j)){var n={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},l=function(d,g){d.getAttribute("role")||d.setAttribute("role",g)};d.webshims.addReady(function(j,s){d.each(n,function(g,n){for(var p=d(g,j).add(s.filter(g)),i=0,o=p.length;i<o;i++)l(p[i],n)});if(j===g){var q=g.getElementsByTagName("header")[0],t=g.getElementsByTagName("footer"),o=t.length;
q&&!d(q).closest("section, article")[0]&&l(q,"banner");o&&(q=t[o-1],d(q).closest("section, article")[0]||l(q,"contentinfo"))}})}})(jQuery,document);
(function(d,g,j){var n=g.audio&&g.video,l=!1,w=j.cfg.mediaelement,s=j.bugs,q="jwplayer"==w.player?"mediaelement-swf":"mediaelement-jaris",t=function(){j.ready(q,function(){if(!j.mediaelement.createSWF)j.mediaelement.loadSwf=!0,j.reTest([q],n)})},o;if(n){var x=document.createElement("video");g.videoBuffered="buffered"in x;l="loop"in x;j.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));g.videoBuffered||(j.addPolyfill("mediaelement-native-fix",
{f:"mediaelement",test:g.videoBuffered,d:["dom-support"]}),j.reTest("mediaelement-native-fix"))}if(n&&!w.preferFlash){var r=function(g){var i=g.target.parentNode;!w.preferFlash&&(d(g.target).is("audio, video")||i&&d("source:last",i)[0]==g.target)&&j.ready("DOM mediaelement",function(){o&&t();j.ready("WINDOWLOAD "+q,function(){setTimeout(function(){o&&!w.preferFlash&&j.mediaelement.createSWF&&!d(g.target).closest("audio, video").is(".nonnative-api-active")?(w.preferFlash=!0,document.removeEventListener("error",
r,!0),d("audio, video").mediaLoad(),j.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+g.target.src)):o||document.removeEventListener("error",r,!0)},20)})})};document.addEventListener("error",r,!0);d("audio, video").each(function(){this.error&&r({target:this})})}s.track=!1;g.track&&function(){if(!s.track)s.track="number"!=typeof d("<track />")[0].readyState;if(!s.track)try{new TextTrackCue(2,3,"")}catch(g){s.track=!0}var i=j.cfg.track,l=function(g){d(g.target).filter("track").each(n)},
n=function(){if(s.track||!i.override&&3==d.prop(this,"readyState"))i.override=!0,j.reTest("track"),document.removeEventListener("error",l,!0),this&&d.nodeName(this,"track")?j.error("track support was overwritten. Please check your vtt including your vtt mime-type"):j.info("track support was overwritten. due to bad browser support")},o=function(){document.addEventListener("error",l,!0);s.track?n():d("track").each(n)};i.override||(j.isReady("track")?o():d(o))}();j.register("mediaelement-core",function(d,
i,j,r,x){o=swfobject.hasFlashPlayerVersion("9.0.115");var m=i.mediaelement,h=function(a,b){var a=d(a),c={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!c.src)return c;var e=a.attr("type");if(e)c.type=e,c.container=d.trim(e.split(";")[0]);else if(b||(b=a[0].nodeName.toLowerCase(),"source"==b&&(b=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),e=m.getTypeForSrc(c.src,b))c.type=e,c.container=e;if(e=a.attr("media"))c.media=e;return c},f=!o&&"postMessage"in j&&n,a=
function(){var a;return function(){!a&&f&&(a=!0,i.loader.loadScript("https://www.youtube.com/player_api"),d(function(){i.polyfill("mediaelement-yt")}))}}(),c=function(){o?t():a()};i.addPolyfill("mediaelement-yt",{test:!f,d:["dom-support"]});m.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};m.mimeTypes.source=d.extend({},m.mimeTypes.audio,m.mimeTypes.video);m.getTypeForSrc=function(a,b){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],c;d.each(m.mimeTypes[b],function(b,e){if(-1!==e.indexOf(a))return c=b,!1});return c};m.srces=function(a,b){a=d(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),d.isArray(b)||(b=[b]),b.forEach(function(b){var c=r.createElement("source");"string"==typeof b&&(b={src:b});c.setAttribute("src",b.src);b.type&&c.setAttribute("type",b.type);b.media&&c.setAttribute("media",b.media);a.append(c)});
else{var b=[],c=a[0].nodeName.toLowerCase(),e=h(a,c);e.src?b.push(e):d("source",a).each(function(){e=h(this,c);e.src&&b.push(e)});return b}};d.fn.loadMediaSrc=function(a,b){return this.each(function(){b!==x&&(d(this).removeAttr("poster"),b&&d.attr(this,"poster",b));m.srces(this,a);d(this).mediaLoad()})};m.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
m.canThirdPlaySrces=function(a,b){var c="";if(o||f)a=d(a),b=b||m.srces(a),d.each(b,function(a,b){if(b.container&&b.src&&(o&&-1!=m.swfMimeTypes.indexOf(b.container)||f&&"video/youtube"==b.container))return c=b,!1});return c};var b={};m.canNativePlaySrces=function(a,c){var e="";if(n){var a=d(a),f=(a[0].nodeName||"").toLowerCase();if(!b[f])return e;c=c||m.srces(a);d.each(c,function(c,d){if(d.type&&b[f].prop._supvalue.call(a[0],d.type))return e=d,!1})}return e};m.setError=function(a,b){b||(b="can't play sources");
d(a).pause().data("mediaerror",b);i.warn("mediaelementError: "+b);setTimeout(function(){d(a).data("mediaerror")&&d(a).trigger("mediaerror")},1)};var e=function(){var b;return function(d,h,g){i.ready(o?q:"mediaelement-yt",function(){m.createSWF?m.createSWF(d,h,g):b||(b=!0,c(),e(d,h,g))});!b&&f&&!m.createSWF&&a()}}(),k=function(a,b,c,f,d){c||!1!==c&&b&&"third"==b.isActive?(c=m.canThirdPlaySrces(a,f))?e(a,c,b):d?m.setError(a,!1):k(a,b,!1,f,!0):(c=m.canNativePlaySrces(a,f))?b&&"third"==b.isActive&&m.setActive(a,
"html5",b):d?(m.setError(a,!1),b&&"third"==b.isActive&&m.setActive(a,"html5",b)):k(a,b,!0,f,!0)},D=/^(?:embed|object|datalist)$/i,C=function(a,b){var c=i.data(a,"mediaelementBase")||i.data(a,"mediaelementBase",{}),e=m.srces(a),f=a.parentNode;clearTimeout(c.loadTimer);d.data(a,"mediaerror",!1);if(e.length&&f&&!(1!=f.nodeType||D.test(f.nodeName||"")))b=b||i.data(a,"mediaelement"),k(a,b,w.preferFlash||x,e)};d(r).on("ended",function(a){var b=i.data(a.target,"mediaelement");(!l||b&&"html5"!=b.isActive||
d.prop(a.target,"loop"))&&setTimeout(function(){!d.prop(a.target,"paused")&&d.prop(a.target,"loop")&&d(a.target).prop("currentTime",0).play()},1)});l||i.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var c=i.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=i.data(this,"mediaelement");C(this,a);n&&(!a||"html5"==a.isActive)&&c.prop._supvalue&&c.prop._supvalue.apply(this,arguments)}}});b[a]=i.defineNodeNameProperty(a,"canPlayType",{prop:{value:function(c){var e=
"";n&&b[a].prop._supvalue&&(e=b[a].prop._supvalue.call(this,c),"no"==e&&(e=""));!e&&o&&(c=d.trim((c||"").split(";")[0]),-1!=m.swfMimeTypes.indexOf(c)&&(e="maybe"));return e}}})});i.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=i.data(a,"mediaelementBase")||i.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){C(a);a=null},9)}});j=function(){i.addReady(function(a,b){d("video, audio",a).add(b.filter("video, audio")).each(function(){d.browser.msie&&
8<i.browserVersion&&d.prop(this,"paused")&&!d.prop(this,"readyState")&&d(this).is('audio[preload="none"][controls]:not([autoplay])')?d(this).prop("preload","metadata").mediaLoad():C(this);if(n){var a,b,c=this,e=function(){var a=d.prop(c,"buffered");if(a){for(var b="",e=0,f=a.length;e<f;e++)b+=a.end(e);return b}},f=function(){var a=e();a!=b&&(b=a,d(c).triggerHandler("progress"))};d(this).on({"play loadstart progress":function(c){"progress"==c.type&&(b=e());clearTimeout(a);a=setTimeout(f,999)},"emptied stalled mediaerror abort suspend":function(c){"emptied"==
c.type&&(b=!1);clearTimeout(a)}})}})})};g.track&&!s.track&&i.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});n?(i.isReady("mediaelement-core",!0),j(),i.ready("WINDOWLOAD mediaelement",c)):i.ready(q,j);d(function(){i.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(d,g,j,n){var l=g.mediaelement;(new Date).getTime();var w={subtitles:1,captions:1,descriptions:1},s=d("<track />"),q=Modernizr.ES5&&Modernizr.objectAccessor,t=function(d){var f={};d.addEventListener=function(a,c){f[a]&&g.error("always use $.on to the shimed event: "+a+" already bound fn was: "+f[a]+" your fn was: "+c);f[a]=c};d.removeEventListener=function(a,c){f[a]&&f[a]!=c&&g.error("always use $.on/$.off to the shimed event: "+a+" already bound fn was: "+
f[a]+" your fn was: "+c);f[a]&&delete f[a]};return d},o={getCueById:function(d){for(var f=null,a=0,c=this.length;a<c;a++)if(this[a].id===d){f=this[a];break}return f}},x={"0":"disabled",1:"hidden",2:"showing"},r={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(d){if(this.cues){var f=this.cues[this.cues.length-1];f&&f.startTime>d.startTime&&
g.error("cue startTime higher than previous cue's startTime")}else this.cues=l.createCueList();d.track&&d.track.removeCue&&d.track.removeCue(d);d.track=this;this.cues.push(d)},removeCue:function(d){var f=this.cues||[],a=0,c=f.length;if(d.track!=this)g.error("cue not part of track");else{for(;a<c;a++)if(f[a]===d){f.splice(a,1);d.track=null;break}d.track&&g.error("cue not part of track")}},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},p=["kind",
"label","srclang"],i={srclang:"language"},y=Function.prototype.call.bind(Object.prototype.hasOwnProperty),v=function(h,f){var a=[],c=[],b=[],e,k;h||(h=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}));if(!f)h.blockTrackListUpdate=!0,f=d.prop(this,"textTracks"),h.blockTrackListUpdate=!1;clearTimeout(h.updateTrackListTimer);d("track",this).each(function(){var a=d.prop(this,"track");b.push(a);-1==f.indexOf(a)&&c.push(a)});if(h.scriptedTextTracks)for(e=0,k=h.scriptedTextTracks.length;e<
k;e++)b.push(h.scriptedTextTracks[e]),-1==f.indexOf(h.scriptedTextTracks[e])&&c.push(h.scriptedTextTracks[e]);for(e=0,k=f.length;e<k;e++)-1==b.indexOf(f[e])&&a.push(f[e]);if(a.length||c.length){f.splice(0);for(e=0,k=b.length;e<k;e++)f.push(b[e]);for(e=0,k=a.length;e<k;e++)d([f]).triggerHandler(d.Event({type:"removetrack",track:a[e]}));for(e=0,k=c.length;e<k;e++)d([f]).triggerHandler(d.Event({type:"addtrack",track:c[e]}));(h.scriptedTextTracks||a.length)&&d(this).triggerHandler("updatetrackdisplay")}},
B=function(h,f){f||(f=g.data(h,"trackData"));if(f&&!f.isTriggering)f.isTriggering=!0,setTimeout(function(){(f.track||{}).readyState?d(h).closest("audio, video").triggerHandler("updatetrackdisplay"):d(h).triggerHandler("checktrackmode");f.isTriggering=!1},1)},m=d("<div />")[0];j.TextTrackCue=function(d,f,a){3!=arguments.length&&g.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=d;this.endTime=f;this.text=a;this.id="";this.pauseOnExit=!1;t(this)};j.TextTrackCue.prototype=
{onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var d="",f="",a=n.createDocumentFragment(),c;if(!y(this,"getCueAsHTML"))c=this.getCueAsHTML=function(){var b,c;if(d!=this.text){d=this.text;f=l.parseCueTextToHTML(d);m.innerHTML=f;for(b=0,c=m.childNodes.length;b<c;b++)a.appendChild(m.childNodes[b].cloneNode(!0))}return a.cloneNode(!0)};return c?c.apply(this,arguments):a.cloneNode(!0)},track:null,id:""};l.createCueList=function(){return d.extend([],o)};l.parseCueTextToHTML=function(){var d=
/(<\/?[^>]+>)/ig,f=/^(?:c|v|ruby|rt|b|i|u)/,a=/\<\s*\//,c=function(b,c,d,f){a.test(f)?b="</"+b+">":(d.splice(0,1),b="<"+b+" "+c+'="'+d.join(" ").replace(/\"/g,"&#34;")+'">');return b},b=function(a){var b=a.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);b[0]&&(b[0]=b[0].toLowerCase(),f.test(b[0])?"c"==b[0]?a=c("span","class",b,a):"v"==b[0]&&(a=c("q","title",b,a)):a="");return a};return function(a){return a.replace(d,b)}}();l.loadTextTrack=function(h,f,a,c){var b=a.track,e=function(){var a=d.prop(f,"src"),
c,j;if("disabled"!=b.mode&&a&&d.attr(f,"src")&&(d(h).unbind("play playing timeupdate updatetrackdisplay",e),d(f).unbind("checktrackmode",e),!b.readyState)){c=function(){b.readyState=3;b.cues=null;b.activeCues=b.shimActiveCues=b._shimActiveCues=null;d(f).triggerHandler("error")};b.readyState=1;try{b.cues=l.createCueList(),b.activeCues=b.shimActiveCues=b._shimActiveCues=l.createCueList(),j=d.ajax({dataType:"text",url:a,success:function(a){"text/vtt"!=j.getResponseHeader("content-type")&&g.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");
l.parseCaptions(a,b,function(a){a&&"length"in a?(b.readyState=2,d(f).triggerHandler("load"),d(h).triggerHandler("updatetrackdisplay")):c()})},error:c})}catch(i){c(),g.warn(i)}}};b.readyState=0;b.shimActiveCues=null;b._shimActiveCues=null;b.activeCues=null;b.cues=null;d(h).unbind("play playing timeupdate updatetrackdisplay",e);d(f).unbind("checktrackmode",e);d(h).on("play playing timeupdate updatetrackdisplay",e);d(f).on("checktrackmode",e);if(c)b.mode=w[b.kind]?"showing":"hidden",e()};l.createTextTrack=
function(h,f){var a,c;if(f.nodeName&&(c=g.data(f,"trackData")))B(f,c),a=c.track;if(!a)a=t(g.objectCreate(r)),q||p.forEach(function(b){var c=d.prop(f,b);c&&(a[i[b]||b]=c)}),f.nodeName?(q&&p.forEach(function(b){g.defineProperty(a,i[b]||b,{get:function(){return d.prop(f,b)}})}),c=g.data(f,"trackData",{track:a}),l.loadTextTrack(h,f,c,d.prop(f,"default")&&d(f).siblings("track[default]").andSelf()[0]==f)):(q&&p.forEach(function(b){g.defineProperty(a,i[b]||b,{value:f[b],writeable:!1})}),a.cues=l.createCueList(),
a.activeCues=a._shimActiveCues=a.shimActiveCues=l.createCueList(),a.mode="hidden",a.readyState=2);return a};l.parseCaptionChunk=function(){var d=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,f=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,a=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,c=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;return function(b){var e,k,j,i;if(f.exec(b)||a.exec(b)||c.exec(b))return null;for(b=b.split(/\n/g);!b[0].replace(/\s+/ig,"").length&&0<b.length;)b.shift();
for(b[0].match(/^\s*[a-z0-9-\_]+\s*$/ig)&&(j=""+b.shift().replace(/\s*/ig,""));0<b.length;){if(i=d.exec(b[0]))k=i.slice(1),e=parseInt(3600*(k[0]||0),10)+parseInt(60*(k[1]||0),10)+parseInt(k[2]||0,10)+parseFloat("0."+(k[3]||0)),k=parseInt(3600*(k[4]||0),10)+parseInt(60*(k[5]||0),10)+parseInt(k[6]||0,10)+parseFloat("0."+(k[7]||0));b=b.slice(0,0).concat(b.slice(1));break}if(!e&&!k)return g.warn("couldn't extract time information: "+[e,k,b.join("\n"),j].join(" ; ")),null;b=b.join("\n");e=new TextTrackCue(e,
k,b);if(j)e.id=j;return e}}();l.parseCaptions=function(d,f,a){l.createCueList();var c,b,e,k,j;d?(e=/^WEBVTT(\s*FILE)?/ig,b=function(i,m){for(;i<m;i++){c=d[i];if(e.test(c))j=!0;else if(c.replace(/\s*/ig,"").length){if(!j){g.error("please use WebVTT format. This is the standard");a(null);break}(c=l.parseCaptionChunk(c,i))&&f.addCue(c)}if(k<(new Date).getTime()-30){i++;setTimeout(function(){k=(new Date).getTime();b(i,m)},90);break}}i>=m&&(j||g.error("please use WebVTT format. This is the standard"),
a(f.cues))},d=d.replace(/\r\n/g,"\n"),setTimeout(function(){d=d.replace(/\r/g,"\n");setTimeout(function(){k=(new Date).getTime();d=d.split(/\n\n+/g);b(0,d.length)},9)},9)):g.error("Required parameter captionData not supplied.")};l.createTrackList=function(d,f){f=f||g.data(d,"mediaelementBase")||g.data(d,"mediaelementBase",{});if(!f.textTracks)f.textTracks=[],g.defineProperties(f.textTracks,{onaddtrack:{value:null},onremovetrack:{value:null}}),t(f.textTracks);return f.textTracks};Modernizr.track||
(g.defineNodeNamesBooleanProperty(["track"],"default"),g.reflectProperties(["track"],["srclang","label"]),g.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));g.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?{set:function(d){var f=g.data(this,"trackData");this.setAttribute("data-kind",d);if(f)f.attrKind=d},get:function(){var d=g.data(this,"trackData");return d&&"attrKind"in d?d.attrKind:this.getAttribute("kind")}}:{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",
limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});d.each(p,function(h,f){var a=i[f]||f;g.onNodeNamesPropertyModify("track",f,function(){var c=g.data(this,"trackData"),b=this;if(c)"kind"==f&&B(this,c),q||(c.track[a]=d.prop(this,f)),clearTimeout(c.changedTrackPropTimer),c.changedTrackPropTimer=setTimeout(function(){d(b).trigger("updatesubtitlestate")},1)})});g.onNodeNamesPropertyModify("track","src",function(h){if(h){var h=g.data(this,"trackData"),f;h&&(f=d(this).closest("video, audio"),
f[0]&&l.loadTextTrack(f,this,h))}});g.defineNodeNamesProperties(["track"],{ERROR:{value:3},LOADED:{value:2},LOADING:{value:1},NONE:{value:0},readyState:{get:function(){return(d.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return l.createTextTrack(d(this).closest("audio, video")[0],this)},writeable:!1}},"prop");g.defineNodeNamesProperties(["audio","video"],{textTracks:{get:function(){var d=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}),f=
l.createTrackList(this,d);d.blockTrackListUpdate||v.call(this,d,f);return f},writeable:!1},addTextTrack:{value:function(d,f,a){d=l.createTextTrack(this,{kind:s.prop("kind",d||"").prop("kind"),label:f||"",srclang:a||""});f=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{});if(!f.scriptedTextTracks)f.scriptedTextTracks=[];f.scriptedTextTracks.push(d);v.call(this);return d}}},"prop");d(n).on("emptied ended updatetracklist",function(h){if(d(h.target).is("audio, video")){var f=g.data(h.target,
"mediaelementBase");if(f)clearTimeout(f.updateTrackListTimer),f.updateTrackListTimer=setTimeout(function(){v.call(h.target,f)},0)}});g.addReady(function(h,f){var a=f.filter("video, audio, track").closest("audio, video");d("video, audio",h).add(a).each(function(){v.call(this)}).each(function(){if(Modernizr.track){var a=this.textTracks;d.prop(this,"textTracks").length!=a.length&&g.error("textTracks couldn't be copied");d("track",this).each(function(){var a=d.prop(this,"track"),c=this.track,f,g;if(c){f=
d.prop(this,"kind");g=c.readyState||this.readyState;if(c.mode||g)a.mode=x[c.mode]||c.mode;if("descriptions"!=f)c.mode="string"==typeof c.mode?"disabled":0,this.kind="metadata",d(this).attr({kind:f})}}).on("load error",function(a){a.originalEvent&&a.stopImmediatePropagation()})}});a.each(function(){var a=this,b=g.data(a,"mediaelementBase");if(b)clearTimeout(b.updateTrackListTimer),b.updateTrackListTimer=setTimeout(function(){v.call(a,b)},9)})});Modernizr.track&&d("video, audio").trigger("trackapichange")});
