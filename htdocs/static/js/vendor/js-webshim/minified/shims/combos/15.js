jQuery.webshims.register("details",function(a,h,j,l,c,i){var n=function(b){var e=a(b).parent("details");if(e[0]&&e.children(":first").get(0)===b)return e},f=function(b,e){var b=a(b),e=a(e),d=a.data(e[0],"summaryElement");a.data(b[0],"detailsElement",e);if(!d||b[0]!==d[0])d&&(d.hasClass("fallback-summary")?d.remove():d.unbind(".summaryPolyfill").removeData("detailsElement").removeAttr("role").removeAttr("tabindex").removeAttr("aria-expanded").removeClass("summary-button").find("span.details-open-indicator").remove()),
a.data(e[0],"summaryElement",b),e.prop("open",e.prop("open"))};h.createElement("summary",function(){var b=n(this);if(b&&!a.data(this,"detailsElement")){var e,d,c=a.attr(this,"tabIndex")||"0";f(this,b);a(this).on({"focus.summaryPolyfill":function(){a(this).addClass("summary-has-focus")},"blur.summaryPolyfill":function(){a(this).removeClass("summary-has-focus")},"mouseenter.summaryPolyfill":function(){a(this).addClass("summary-has-hover")},"mouseleave.summaryPolyfill":function(){a(this).removeClass("summary-has-hover")},
"click.summaryPolyfill":function(b){var c=n(this);if(c){if(!d&&b.originalEvent)return d=!0,b.stopImmediatePropagation(),b.preventDefault(),a(this).trigger("click"),d=!1;clearTimeout(e);e=setTimeout(function(){b.isDefaultPrevented()||c.prop("open",!c.prop("open"))},0)}},"keydown.summaryPolyfill":function(b){if((13==b.keyCode||32==b.keyCode)&&!b.isDefaultPrevented())d=!0,b.preventDefault(),a(this).trigger("click"),d=!1}}).attr({tabindex:c,role:"button"}).prepend('<span class="details-open-indicator" />');
h.moveToFirstEvent(this,"click")}});var g;h.defineNodeNamesBooleanProperty("details","open",function(b){var c=a(a.data(this,"summaryElement"));if(c){var d=b?"removeClass":"addClass",f=a(this);if(!g&&i.animate){f.stop().css({width:"",height:""});var h={width:f.width(),height:f.height()}}c.attr("aria-expanded",""+b);f[d]("closed-details-summary").children().not(c[0])[d]("closed-details-child");!g&&i.animate&&(b={width:f.width(),height:f.height()},f.css(h).animate(b,{complete:function(){a(this).css({width:"",
height:""})}}))}});h.createElement("details",function(){g=!0;var b=a.data(this,"summaryElement");b||(b=a("> summary:first-child",this),b[0]?f(b,this):(a(this).prependPolyfill('<summary class="fallback-summary">'+i.text+"</summary>"),a.data(this,"summaryElement")));a.prop(this,"open",a.prop(this,"open"));g=!1})});
(function(a){if(!navigator.geolocation){var h=function(){setTimeout(function(){throw"document.write is overwritten by geolocation shim. This method is incompatible with this plugin";},1)},j=0,l=a.webshims.cfg.geolocation.options||{};navigator.geolocation=function(){var c,i={getCurrentPosition:function(i,f,g){var b=2,e,d,j,k=function(){if(!j)if(c){if(j=!0,i(a.extend({timestamp:(new Date).getTime()},c)),m(),window.JSON&&window.sessionStorage)try{sessionStorage.setItem("storedGeolocationData654321",
JSON.stringify(c))}catch(d){}}else f&&!b&&(j=!0,m(),f({code:2,message:"POSITION_UNAVAILABLE"}))},p=function(){b--;o();k()},m=function(){a(document).unbind("google-loader",m);clearTimeout(d);clearTimeout(e)},o=function(){if(c||!window.google||!google.loader||!google.loader.ClientLocation)return!1;var b=google.loader.ClientLocation;c={coords:{latitude:b.latitude,longitude:b.longitude,altitude:null,accuracy:43E3,altitudeAccuracy:null,heading:parseInt("NaN",10),velocity:null},address:a.extend({streetNumber:"",
street:"",premises:"",county:"",postalCode:""},b.address)};return!0};if(!c&&(o(),!c&&window.JSON&&window.sessionStorage))try{c=(c=sessionStorage.getItem("storedGeolocationData654321"))?JSON.parse(c):!1,c.coords||(c=!1)}catch(q){c=!1}c?setTimeout(k,1):l.confirmText&&!confirm(l.confirmText.replace("{location}",location.hostname))?f&&f({code:1,message:"PERMISSION_DENIED"}):(a.ajax({url:"http://freegeoip.net/json/",dataType:"jsonp",cache:!0,jsonp:"callback",success:function(a){b--;a&&(c=c||{coords:{latitude:a.latitude,
longitude:a.longitude,altitude:null,accuracy:43E3,altitudeAccuracy:null,heading:parseInt("NaN",10),velocity:null},address:{city:a.city,country:a.country_name,countryCode:a.country_code,county:"",postalCode:a.zipcode,premises:"",region:a.region_name,street:"",streetNumber:""}},k())},error:function(){b--;k()}}),clearTimeout(d),!window.google||!window.google.loader?d=setTimeout(function(){if(l.destroyWrite)document.write=h,document.writeln=h;a(document).one("google-loader",p);a.webshims.loader.loadScript("http://www.google.com/jsapi",
!1,"google-loader")},800):b--,e=g&&g.timeout?setTimeout(function(){m();f&&f({code:3,message:"TIMEOUT"})},g.timeout):setTimeout(function(){b=0;k()},1E4))},clearWatch:a.noop};i.watchPosition=function(a,c,g){i.getCurrentPosition(a,c,g);j++;return j};return i}();a.webshims.isReady("geolocation",!0)}})(jQuery);
