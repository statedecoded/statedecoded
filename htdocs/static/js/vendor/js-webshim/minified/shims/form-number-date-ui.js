jQuery.webshims.register("form-number-date-ui",function(b,e,l,o,z,h){var n=e.triggerInlineForm,l=Modernizr.inputtypes,t=function(){var c={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},d=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");b.browser.msie&&8>e.browserVersion&&(d=!1);return function(a,b){var e,g,h;g="width";d&&(g=c[a.css(d)]||g);e=a[g]();g="width"==g;if(e){var m=parseInt(b.css("marginLeft"),10)||0,r=b.outerWidth();(h=parseInt(a.css("marginRight"),10)||0)&&
a.css("marginRight",0);m<=-1*r?(b.css("marginRight",Math.floor(Math.abs(r+m-0.1)+h)),a.css("paddingRight",(parseInt(a.css("paddingRight"),10)||0)+Math.abs(m)),g&&a.css("width",Math.floor(e+m))):(b.css("marginRight",h),a.css("width",Math.floor(e-m-r-0.2)))}}}(),q={},w=b([]),s,i=function(c,d){b("input",c).add(d.filter("input")).each(function(){var a=b.prop(this,"type");if(i[a]&&!e.data(this,"shadowData"))i[a](b(this))})},x=function(c,d){if(h.lazyDate){var a=b.data(c[0],"setDateLazyTimer");a&&clearTimeout(a);
b.data(c[0],"setDateLazyTimer",setTimeout(function(){c.datepicker("setDate",d);b.removeData(c[0],"setDateLazyTimer");c=null},0))}else c.datepicker("setDate",d)},u={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!h.copyAttrs)h.copyAttrs={};e.extendUNDEFProp(h.copyAttrs,u);var v=function(b){return h.calculateWidth?{css:{marginRight:b.css("marginRight"),marginLeft:b.css("marginLeft")},outerWidth:b.outerWidth()}:{}};i.common=function(c,d,a){if(Modernizr.formvalidation)c.on("firstinvalid",
function(a){if(e.fromSubmit||!s)c.off("invalid.replacedwidgetbubble").on("invalid.replacedwidgetbubble",function(b){!a.isInvalidUIPrevented()&&!b.isDefaultPrevented()&&(e.validityAlert.showFor(a.target),a.preventDefault(),b.preventDefault());c.off("invalid.replacedwidgetbubble")})});var k,j,g=b("input, span.ui-slider-handle",d),i=c[0].attributes;for(k in h.copyAttrs)if((j=i[k])&&j.specified)u[k]&&g[0]?g.attr(k,j.nodeValue):d[0].setAttribute(k,j.nodeValue);k=(k=c.attr("id"))?b('label[for="'+k+'"]',
c[0].form):w;d.addClass(c[0].className);e.addShadowDom(c,d,{data:a||{},shadowFocusElement:b("input.input-datetime-local-date, span.ui-slider-handle",d)[0],shadowChilds:g});c.after(d);if(c[0].form)b(c[0].form).on("reset",function(a){a.originalEvent&&!a.isDefaultPrevented()&&setTimeout(function(){c.prop("value",c.prop("value"))},0)});k[0]&&(d.getShadowFocusElement().attr("aria-labelledby",e.getID(k)),k.on("click",function(){c.getShadowFocusElement().focus();return!1}))};Modernizr.formvalidation&&["input",
"form"].forEach(function(b){var d=e.defineNodeNameProperty(b,"checkValidity",{prop:{value:function(){s=!0;var a=d.prop._supvalue.apply(this,arguments);s=!1;return a}}})});if(!l.date||h.replaceUI){var y=function(c,d,a,k){var j,g,i=function(){m.dpDiv.unbind("mousedown.webshimsmousedownhandler");g=j=!1},m=d.on({focusin:function(){i();m.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",function(){j=!0})},"focusout blur":function(a){j&&(g=!0,a.stopImmediatePropagation())}}).datepicker(b.extend({onClose:function(){g&&
d.not(":focus")?(i(),d.trigger("focusout"),d.triggerHandler("blur")):i()}},q,h.datepicker,c.data("datepicker"))).on("change",a).data("datepicker");m.dpDiv.addClass("input-date-datepicker-control");k&&e.triggerDomUpdate(k[0]);"disabled,min,max,value,step,data-placeholder".split(",").forEach(function(a){var b=c.attr(a);b&&c.attr(a,b)});return m};i.date=function(c){if(b.fn.datepicker){var d=b('<input class="input-date" type="text" />'),a;this.common(c,d,i.date.attrs);a=y(c,d,function(a){i.date.blockAttr=
!0;var e;if(h.lazyDate){var g=b.data(d[0],"setDateLazyTimer");g&&(clearTimeout(g),b.removeData(d[0],"setDateLazyTimer"))}try{e=(e=b.datepicker.parseDate(d.datepicker("option","dateFormat"),d.prop("value")))?b.datepicker.formatDate("yy-mm-dd",e):d.prop("value")}catch(l){e=d.prop("value")}c.prop("value",e);i.date.blockAttr=!1;a.stopImmediatePropagation();n(c[0],"input");n(c[0],"change")});b(c).on("updateshadowdom",function(){if(a.trigger[0]&&(c.css({display:""}),c[0].offsetWidth||c[0].offsetHeight)){var b=
v(c);b.css&&(d.css(b.css),b.outerWidth&&d.outerWidth(b.outerWidth),t(d,a.trigger))}c.css({display:"none"})}).triggerHandler("updateshadowdom");a.trigger[0]&&setTimeout(function(){e.ready("WINDOWLOAD",function(){b(c).triggerHandler("updateshadowdom")})},9)}};i.date.attrs={disabled:function(c,d,a){b.prop(d,"disabled",!!a)},min:function(c,d,a){try{a=b.datepicker.parseDate("yy-mm-dd",a)}catch(e){a=!1}a&&b(d).datepicker("option","minDate",a)},max:function(c,d,a){try{a=b.datepicker.parseDate("yy-mm-dd",
a)}catch(e){a=!1}a&&b(d).datepicker("option","maxDate",a)},"data-placeholder":function(c,d,a){c=(a||"").split("-");3==c.length&&(a=b(d).datepicker("option","dateFormat").replace("yy",c[0]).replace("mm",c[1]).replace("dd",c[2]));b.prop(d,"placeholder",a)},value:function(c,d,a){if(!i.date.blockAttr){try{var e=b.datepicker.parseDate("yy-mm-dd",a)}catch(h){e=!1}e?x(b(d),e):b.prop(d,"value",a)}}}}if(!l.range||h.replaceUI)i.range=function(c){if(b.fn.slider){var d=b('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>');
this.common(c,d,i.range.attrs);c.on("updateshadowdom",function(){c.css({display:""});if(c[0].offsetWidth||c[0].offsetHeight){var a=v(c);a.css&&(d.css(a.css),a.outerWidth&&d.outerWidth(a.outerWidth))}c.css({display:"none"})}).triggerHandler("updateshadowdom");d.slider(b.extend(!0,{},h.slider,c.data("slider"))).on({slide:function(a,b){if(a.originalEvent)i.range.blockAttr=!0,c.prop("value",b.value),i.range.blockAttr=!1,n(c[0],"input")},slidechange:function(a){a.originalEvent&&n(c[0],"change")}});["disabled",
"min","max","step","value"].forEach(function(a){var d=c.prop(a),e;"value"==a&&!d&&(e=c.getShadowElement())&&(d=(b(e).slider("option","max")-b(e).slider("option","min"))/2);null!=d&&c.prop(a,d)})}},i.range.attrs={disabled:function(c,d,a){a=!!a;b(d).slider("option","disabled",a);b("span",d).attr({"aria-disabled":a+"",tabindex:a?"-1":"0"})},min:function(c,d,a){a=a?1*a||0:0;b(d).slider("option","min",a);b("span",d).attr({"aria-valuemin":a})},max:function(c,d,a){a=a||0===a?1*a||100:100;b(d).slider("option",
"max",a);b("span",d).attr({"aria-valuemax":a})},value:function(c,d,a){a=b(c).prop("valueAsNumber");isNaN(a)||(i.range.blockAttr||b(d).slider("option","value",a),b("span",d).attr({"aria-valuenow":a,"aria-valuetext":a}))},step:function(c,d,a){a=a&&b.trim(a)?1*a||1:1;b(d).slider("option","step",a)}};if(h.replaceUI||!Modernizr.inputtypes.date||!Modernizr.inputtypes.range)l=function(){e.data(this,"hasShadow")&&b.prop(this,"value",b.prop(this,"value"))},e.onNodeNamesPropertyModify("input","valueAsNumber",
l),e.onNodeNamesPropertyModify("input","valueAsDate",l);b.each("disabled,min,max,value,step,data-placeholder".split(","),function(b,d){e.onNodeNamesPropertyModify("input",d,function(a){var b=e.data(this,"shadowData");if(b&&b.data&&b.data[d]&&b.nativeElement===this)b.data[d](this,b.shadowElement,a)})});if(!h.availabeLangs)h.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");
l=function(){b.datepicker&&(e.activeLang({langObj:b.datepicker.regional,module:"form-number-date-ui",callback:function(c){c=b.extend({},q,c,h.datepicker);c.dateFormat&&h.datepicker.dateFormat!=c.dateFormat&&b("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option","dateFormat",c.dateFormat).getNativeElement().filter("[data-placeholder]").attr("data-placeholder",function(b,a){return a});b.datepicker.setDefaults(c)}}),b(o).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};
b(o).on("jquery-uiReady.langchange input-widgetsReady.langchange",l);l();(function(){var c=function(){var a={};return function(c){return c in a?a[c]:a[c]=b('<input type="'+c+'" />')[0].type===c}}();if(!c("number")||!c("time")){var d=e.cfg["forms-ext"],a=e.inputTypes,i={number:"0123456789.",time:"0123456789:."},h=function(c,d,f){f=f||{};if(!("type"in f))f.type=b.prop(c,"type");if(!("step"in f))f.step=e.getStep(c,f.type);if(!("valueAsNumber"in f))f.valueAsNumber=a[f.type].asNumber(b.prop(c,"value"));
var i="any"==f.step?a[f.type].step*a[f.type].stepScaleFactor:f.step;e.addMinMaxNumberToCache("min",b(c),f);e.addMinMaxNumberToCache("max",b(c),f);if(isNaN(f.valueAsNumber))f.valueAsNumber=a[f.type].stepBase||0;if("any"!==f.step&&(c=Math.round(1E7*((f.valueAsNumber-(f.minAsnumber||0))%f.step))/1E7)&&Math.abs(c)!=f.step)f.valueAsNumber-=c;c=f.valueAsNumber+i*d;return c=!isNaN(f.minAsNumber)&&c<f.minAsNumber?f.valueAsNumber*d<f.minAsNumber?f.minAsNumber:isNaN(f.maxAsNumber)?f.valueAsNumber:f.maxAsNumber:
!isNaN(f.maxAsNumber)&&c>f.maxAsNumber?f.valueAsNumber*d>f.maxAsNumber?f.maxAsNumber:isNaN(f.minAsNumber)?f.valueAsNumber:f.minAsNumber:Math.round(1E7*c)/1E7};e.modules["form-number-date-ui"].getNextStep=h;if(d.stepArrows){var g={set:function(){var b=e.data(this,"step-controls");if(b)b[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};e.onNodeNamesPropertyModify("input","disabled",g);e.onNodeNamesPropertyModify("input","readonly",b.extend({},g))}var l={38:1,40:-1},
m=function(c,d){function f(){var a=b.prop(c,"value");a==i&&a!=g&&"string"==typeof a&&n(c,"change");g=a}var e=!1,i,g;(function(){g=b(c).on({"change.stepcontrol focus.stepcontrol":function(a){if(!e||"focus"!=a.type)g=b.prop(c,"value")},"blur.stepcontrol":function(){e||setTimeout(function(){!e&&!b(c).is(":focus")&&f();i=!1},9)}}).prop("value")})();return{triggerChange:f,step:function(e){!b.prop(c,"disabled")&&!c.readOnly&&e&&(i=a[d].numberToString(h(c,e,{type:d})),b.prop(c,"value",i),n(c,"input"))},
setFocus:function(){e=!0;setTimeout(function(){e=!1},18);setTimeout(function(){if(!b(c).is(":focus"))try{c.focus()}catch(a){}},1)}}};e.addReady(function(g,h){d.stepArrows&&b("input",g).add(h.filter("input")).each(function(){var f=b.prop(this,"type");if(a[f]&&a[f].asNumber&&d.stepArrows&&!(!0!==d.stepArrows&&!d.stepArrows[f]||c(f)||b(g).hasClass("has-step-controls"))){var g=this,h=m(g,f),j=b('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(g).on({"selectstart dragstart":function(){return!1},
"mousedown mousepress":function(a){b(a.target).hasClass("step-controls")||h.step(b(a.target).hasClass("step-up")?1:-1);h.setFocus();return!1},"mousepressstart mousepressend":function(a){"mousepressend"==a.type&&h.triggerChange();b(a.target)["mousepressstart"==a.type?"addClass":"removeClass"]("mousepress-ui")}}),n=function(a,b){if(b)return h.step(b),!1},p=b(g).addClass("has-step-controls").attr({readonly:g.readOnly,disabled:g.disabled,autocomplete:"off",role:"spinbutton"}).on("keyup",function(a){(a=
l[a.keyCode])&&h.triggerChange(a)}).on(b.browser.msie?"keydown":"keypress",function(a){if(a=l[a.keyCode])return h.step(a),!1});if(i[f])p.on("keypress",function(){var a=i[f];return function(b){var c=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||" ">c||-1<a.indexOf(c)}}());p.on({focus:function(){p.add(j).off(".mwhellwebshims").on("mousewheel.mwhellwebshims",n)},blur:function(){b(g).add(j).off(".mwhellwebshims")}});e.data(g,"step-controls",j);if(d.calculateWidth){var o;
p.on("updateshadowdom",function(){if(!o&&(g.offsetWidth||g.offsetHeight))o=!0,t(p,j),j.css("marginTop",(p.outerHeight()-j.outerHeight())/2)}).triggerHandler("updateshadowdom")}}})})}})();e.addReady(function(c,d){b(o).on("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){if(b.datepicker||b.fn.slider){if(b.datepicker&&!q.dateFormat)q.dateFormat=b.datepicker._defaults.dateFormat;i(c,d)}b.datepicker&&b.fn.slider?b(o).unbind(".initinputui"):e.modules["input-widgets"].src||e.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
