(function(a){var d=window.Modernizr,g=a.webshims,f=g.bugs,j=a('<form action="#" style="width: 1px; height: 1px; overflow: hidden;"><select name="b" required="" /><input required="" name="a" /></form>'),m=function(){if(j[0].querySelector)try{f.findRequired=!j[0].querySelector("select:required")}catch(a){f.findRequired=!1}},s=a("input",j).eq(0),q=function(a){g.loader.loadList(["dom-extend"]);g.ready("dom-extend",a)};f.findRequired=!1;f.validationMessage=!1;g.capturingEventPrevented=function(h){if(!h._isPolyfilled){var d=
h.isDefaultPrevented,f=h.preventDefault;h.preventDefault=function(){clearTimeout(a.data(h.target,h.type+"DefaultPrevented"));a.data(h.target,h.type+"DefaultPrevented",setTimeout(function(){a.removeData(h.target,h.type+"DefaultPrevented")},30));return f.apply(this,arguments)};h.isDefaultPrevented=function(){return!(!d.apply(this,arguments)&&!a.data(h.target,h.type+"DefaultPrevented"))};h._isPolyfilled=!0}};if(!d.formvalidation||f.bustedValidity)m();else{g.capturingEvents(["input"]);g.capturingEvents(["invalid"],
!0);if(window.opera||window.testGoodWithFix)j.appendTo("head"),m(),f.validationMessage=!s.prop("validationMessage"),g.reTest(["form-extend","form-message"]),j.remove(),a(function(){q(function(){var d=function(a){a.preventDefault()};["form","input","textarea","select"].forEach(function(f){var l=g.defineNodeNameProperty(f,"checkValidity",{prop:{value:function(){if(!g.fromSubmit)a(this).on("invalid.checkvalidity",d);g.fromCheckValidity=!0;var f=l.prop._supvalue.apply(this,arguments);g.fromSubmit||a(this).unbind("invalid.checkvalidity",
d);g.fromCheckValidity=!1;return f}}})})})});a.browser.webkit&&!g.bugs.bustedValidity&&function(){var f=/^(?:textarea|input)$/i,d=!1;document.addEventListener("contextmenu",function(a){f.test(a.target.nodeName||"")&&(d=a.target.form)&&setTimeout(function(){d=!1},1)},!1);a(window).on("invalid",function(a){if(a.originalEvent&&d&&d==a.target.form)a.wrongWebkitInvalid=!0,a.stopImmediatePropagation()})}()}})(jQuery);
jQuery.webshims.register("form-core",function(a,d,g,f,j,m){var s={radio:1},q={checkbox:1,radio:1},h=a([]),n=d.bugs,l=function(b){var b=a(b),c,i;c=h;if(s[b[0].type])i=b.prop("form"),c=(c=b[0].name)?i?a(i[c]):a(f.getElementsByName(c)).filter(function(){return!a.prop(this,"form")}):b,c=c.filter('[type="radio"]');return c},v=d.getContentValidationMessage=function(b,c,i){var e=a(b).data("errormessage")||b.getAttribute("x-moz-errormessage")||"";i&&e[i]&&(e=e[i]);"object"==typeof e&&(c=c||a.prop(b,"validity")||
{valid:1},c.valid||a.each(c,function(a,b){if(b&&"valid"!=a&&e[a])return e=e[a],!1}));if("object"==typeof e)e=e.defaultMessage;return e||""},w={number:1,range:1,date:1},x=function(b){var c=!1;a(a.prop(b,"elements")).each(function(){if(c=a(this).is(":invalid"))return!1});return c};a.extend(a.expr[":"],{"valid-element":function(b){return a.nodeName(b,"form")?!x(b):!(!a.prop(b,"willValidate")||!t(b))},"invalid-element":function(b){return a.nodeName(b,"form")?x(b):!(!a.prop(b,"willValidate")||t(b))},"required-element":function(b){return!(!a.prop(b,
"willValidate")||!a.prop(b,"required"))},"user-error":function(b){return a.prop(b,"willValidate")&&a(b).hasClass("user-error")},"optional-element":function(b){return!!(a.prop(b,"willValidate")&&!1===a.prop(b,"required"))},"in-range":function(b){if(!w[a.prop(b,"type")]||!a.prop(b,"willValidate"))return!1;b=a.prop(b,"validity");return!(!b||b.rangeOverflow||b.rangeUnderflow)},"out-of-range":function(b){if(!w[a.prop(b,"type")]||!a.prop(b,"willValidate"))return!1;b=a.prop(b,"validity");return!(!b||!b.rangeOverflow&&
!b.rangeUnderflow)}});["valid","invalid","required","optional"].forEach(function(b){a.expr[":"][b]=a.expr.filters[b+"-element"]});a.expr[":"].focus=function(a){try{var c=a.ownerDocument;return a===c.activeElement&&(!c.hasFocus||c.hasFocus())}catch(i){}return!1};var o=a.event.customEvent||{},t=function(b){return(a.prop(b,"validity")||{valid:1}).valid};(n.bustedValidity||n.findRequired)&&function(){var b=a.find,c=a.find.matchesSelector,i=/(\:valid|\:invalid|\:optional|\:required|\:in-range|\:out-of-range)(?=[\s\[\~\.\+\>\:\#*]|$)/ig,
e=function(a){return a+"-element"};a.find=function(){var a=Array.prototype.slice,c=function(c){var d=arguments,d=a.call(d,1,d.length);d.unshift(c.replace(i,e));return b.apply(this,d)},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}();if(!Modernizr.prefixed||Modernizr.prefixed("matchesSelector",f.documentElement))a.find.matchesSelector=function(a,b){b=b.replace(i,e);return c.call(this,a,b)}}();var y=a.prop,z={selectedIndex:1,value:1,checked:1,disabled:1,readonly:1};a.prop=function(b,c,d){var e=
y.apply(this,arguments);b&&"form"in b&&z[c]&&d!==j&&a(b).hasClass(u)&&t(b)&&(a(b).getShadowElement().removeClass(p),"checked"==c&&d&&l(b).not(b).removeClass(p).removeAttr("aria-invalid"));return e};var A=function(b,c){var d;a.each(b,function(b,f){if(f)return d="customError"==b?a.prop(c,"validationMessage"):b,!1});return d},B=function(a){var c;try{c=f.activeElement.name===a}catch(d){}return c},u="user-error",p="user-error form-ui-invalid";a(f).on(m.validityUIEvents||"focusout change refreshvalidityui",
function(b){var c,d;if(b.target&&(c=a(b.target).getNativeElement()[0],"submit"!=c.type&&a.prop(c,"willValidate"))){d=a.data(c,"webshimsswitchvalidityclass");var e=function(){if(!("focusout"==b.type&&"radio"==c.type&&B(c.name))){var d=a.prop(c,"validity"),e=a(c).getShadowElement(),f,i,g,h;a(c).trigger("refreshCustomValidityRules");d.valid?e.hasClass("user-success")||(f="user-success form-ui-valid",i=p,h="changedvaliditystate",g="changedvalid",q[c.type]&&c.checked&&l(c).not(c).removeClass(i).addClass(f).removeAttr("aria-invalid"),
a.removeData(c,"webshimsinvalidcause")):(d=A(d,c),a.data(c,"webshimsinvalidcause")!=d&&(a.data(c,"webshimsinvalidcause",d),h="changedvaliditystate"),e.hasClass(u)||(f=p,i="user-success form-ui-valid",q[c.type]&&!c.checked&&l(c).not(c).removeClass(i).addClass(f),g="changedinvalid"));f&&(e.addClass(f).removeClass(i),setTimeout(function(){a(c).trigger(g)},0));h&&setTimeout(function(){a(c).trigger(h)},0);a.removeData(b.target,"webshimsswitchvalidityclass")}};d&&clearTimeout(d);"refreshvalidityui"==b.type?
e():a.data(c,"webshimsswitchvalidityclass",setTimeout(e,9))}});o.changedvaliditystate=!0;o.refreshCustomValidityRules=!0;o.changedvalid=!0;o.changedinvalid=!0;o.refreshvalidityui=!0;d.triggerInlineForm=function(b,c){a(b).trigger(c)};d.modules["form-core"].getGroupElements=l;n=function(){d.scrollRoot=a.browser.webkit||"BackCompat"==f.compatMode?a(f.body):a(f.documentElement)};n();d.ready("DOM",n);d.getRelOffset=function(b,c){var b=a(b),d=a(c).offset(),e;a.swap(a(b)[0],{visibility:"hidden",display:"inline-block",
left:0,top:0},function(){e=b.offset()});d.top-=e.top;d.left-=e.left;return d};d.validityAlert=function(){var b=!a.browser.msie||7<parseInt(a.browser.version,10)?"span":"label",c,i=!1,e=!1,h,k={hideDelay:5E3,showFor:function(b,c,d,f){k._create();var b=a(b),r=a(b).getShadowElement(),j=k.getOffsetFromBody(r);k.clear();f?this.hide():(this.getMessage(b,c),this.position(r,j),this.show(),this.hideDelay&&(i=setTimeout(h,this.hideDelay)),a(g).on("resize.validityalert",function(){clearTimeout(e);e=setTimeout(function(){k.position(r)},
9)}));d||this.setFocus(r,j)},getOffsetFromBody:function(a){return d.getRelOffset(c,a)},setFocus:function(e,i){var g=a(e).getShadowFocusElement(),k=d.scrollRoot.scrollTop(),j=(i||g.offset()).top-30,l;d.getID&&"label"==b&&c.attr("for",d.getID(g));k>j&&(d.scrollRoot.animate({scrollTop:j-5},{queue:!1,duration:Math.max(Math.min(600,1.5*(k-j)),80)}),l=!0);try{g[0].focus()}catch(m){}l&&(d.scrollRoot.scrollTop(k),setTimeout(function(){d.scrollRoot.scrollTop(k)},0));setTimeout(function(){a(f).on("focusout.validityalert",
h)},10)},getMessage:function(b,d){d||(d=v(b[0])||b.prop("validationMessage"));d?a("span.va-box",c).text(d):this.hide()},position:function(b,d){d=d?a.extend({},d):k.getOffsetFromBody(b);d.top+=b.outerHeight();c.css(d)},show:function(){"none"===c.css("display")&&c.css({opacity:0}).show();c.addClass("va-visible").fadeTo(400,1)},hide:function(){c.removeClass("va-visible").fadeOut()},clear:function(){clearTimeout(!1);clearTimeout(i);a(f).unbind(".validityalert");a(g).unbind(".validityalert");c.stop().removeAttr("for")},
_create:function(){if(!c)c=k.errorBubble=a("<"+b+' class="validity-alert-wrapper" role="alert"><span  class="validity-alert"><span class="va-arrow"><span class="va-arrow-box"></span></span><span class="va-box"></span></span></'+b+">").css({position:"absolute",display:"none"}),d.ready("DOM",function(){c.appendTo("body");a.fn.bgIframe&&a.browser.msie&&7>parseInt(a.browser.version,10)&&c.bgIframe()})}};h=a.proxy(k,"hide");return k}();(function(){var b,c=[],d;a(f).on("invalid",function(e){if(!e.wrongWebkitInvalid){var h=
a(e.target),g=h.getShadowElement();g.hasClass(u)||(g.addClass(p).removeClass("user-success form-ui-valid"),setTimeout(function(){a(e.target).trigger("changedinvalid").trigger("changedvaliditystate")},0));if(!b)b=a.Event("firstinvalid"),b.isInvalidUIPrevented=e.isDefaultPrevented,g=a.Event("firstinvalidsystem"),a(f).triggerHandler(g,{element:e.target,form:e.target.form,isInvalidUIPrevented:e.isDefaultPrevented}),h.trigger(b);b&&b.isDefaultPrevented()&&e.preventDefault();c.push(e.target);e.extraData=
"fix";clearTimeout(d);d=setTimeout(function(){var d={type:"lastinvalid",cancelable:!1,invalidlist:a(c)};b=!1;c=[];a(e.target).trigger(d,d)},9);g=h=null}})})();a.fn.getErrorMessage=function(){var b="",c=this[0];c&&(b=v(c)||a.prop(c,"customValidationMessage")||a.prop(c,"validationMessage"));return b};m.replaceValidationUI&&d.ready("DOM forms",function(){a(f).on("firstinvalid",function(b){b.isInvalidUIPrevented()||(b.preventDefault(),a.webshims.validityAlert.showFor(b.target,a(b.target).prop("customValidationMessage")))})})});
